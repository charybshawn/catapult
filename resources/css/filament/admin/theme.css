@import '/vendor/filament/filament/resources/css/theme.css';
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Hide default Filament navigation */
.fi-sidebar-nav-groups {
    display: none !important;
}

/* Custom Sliding Navigation Styles */
.sliding-navigation {
    transition: transform 300ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Custom navigation styling similar to Square */
.nav-group-button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 0.75rem 1rem;
    text-align: left;
    border-radius: 0.5rem;
    border: 1px solid transparent;
    transition: all 200ms ease;
}

.nav-group-button:hover {
    background-color: rgb(249 250 251);
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    border-color: rgb(229 231 235);
}

.dark .nav-group-button:hover {
    background-color: rgb(31 41 55);
    border-color: rgb(75 85 99);
}

.nav-group-icon {
    height: 1.25rem;
    width: 1.25rem;
    color: rgb(107 114 128);
}

.dark .nav-group-icon {
    color: rgb(156 163 175);
}

.nav-group-button:hover .nav-group-icon {
    color: rgb(55 65 81);
}

.dark .nav-group-button:hover .nav-group-icon {
    color: rgb(209 213 219);
}

.nav-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    border-radius: 0.5rem;
    transition: all 200ms ease;
    color: rgb(55 65 81);
}

.dark .nav-item {
    color: rgb(209 213 219);
}

.nav-item:hover {
    background-color: rgb(249 250 251);
}

.dark .nav-item:hover {
    background-color: rgb(31 41 55);
}

.nav-item.active {
    background-color: rgb(254 242 242);
    color: rgb(185 28 28);
    font-weight: 500;
}

.dark .nav-item.active {
    background-color: rgb(69 10 10);
    color: rgb(248 113 113);
}

.nav-item-icon {
    height: 1rem;
    width: 1rem;
    color: rgb(107 114 128);
}

.dark .nav-item-icon {
    color: rgb(156 163 175);
}

.nav-item.active .nav-item-icon {
    color: rgb(185 28 28);
}

.dark .nav-item.active .nav-item-icon {
    color: rgb(248 113 113);
}

/* Back button styling */
.back-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    font-size: 0.875rem;
    color: rgb(107 114 128);
    border-radius: 0.5rem;
    transition: colors 150ms ease;
}

.dark .back-button {
    color: rgb(156 163 175);
}

.back-button:hover {
    background-color: rgb(249 250 251);
    color: rgb(17 24 39);
}

.dark .back-button:hover {
    background-color: rgb(31 41 55);
    color: rgb(255 255 255);
}

/* Badge styling */
.nav-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
}

.nav-badge.danger {
    background-color: rgb(254 226 226);
    color: rgb(153 27 27);
}

.dark .nav-badge.danger {
    background-color: rgb(69 10 10);
    color: rgb(248 113 113);
}

.nav-badge.warning {
    background-color: rgb(254 249 195);
    color: rgb(146 64 14);
}

.dark .nav-badge.warning {
    background-color: rgb(120 53 15);
    color: rgb(253 224 71);
}

.nav-badge.primary {
    background-color: rgb(219 234 254);
    color: rgb(30 64 175);
}

.dark .nav-badge.primary {
    background-color: rgb(30 58 138);
    color: rgb(147 197 253);
}

.nav-badge.default {
    background-color: rgb(243 244 246);
    color: rgb(31 41 55);
}

.dark .nav-badge.default {
    background-color: rgb(17 24 39);
    color: rgb(229 231 235);
}

/* Enhance transitions */
[x-cloak] {
    display: none !important;
}

/* Custom Toggle Styling */
/* Override Filament toggle colors globally using Tailwind */
.fi-fo-toggle .fi-toggle input:checked + .fi-toggle-track {
    @apply bg-orange-500 !important;
}

.fi-fo-toggle .fi-toggle input:not(:checked) + .fi-toggle-track {
    @apply bg-red-500 !important;
}

/* Dark mode adjustments */
.dark .fi-fo-toggle .fi-toggle input:checked + .fi-toggle-track {
    @apply bg-orange-400 !important;
}

.dark .fi-fo-toggle .fi-toggle input:not(:checked) + .fi-toggle-track {
    @apply bg-red-400 !important;
}

/* Responsive adjustments */
@media (max-width: 640px) {
    .nav-group-button {
        padding: 0.5rem 0.75rem;
    }
    
    .nav-item {
        padding: 0.375rem 0.5rem;
    }
}

/* FullCalendar Dark Mode Styles */
.dark .fc-theme-standard td, 
.dark .fc-theme-standard th {
    border-color: rgb(55 65 81);
}

.dark .fc-theme-standard .fc-scrollgrid {
    border-color: rgb(55 65 81);
}

.dark .fc-theme-standard .fc-scrollgrid-section > td {
    border-color: rgb(55 65 81);
}

.dark .fc {
    background-color: transparent;
    color: rgb(229 231 235);
}

.dark .fc-toolbar-title {
    color: rgb(255 255 255);
}

.dark .fc-button {
    background-color: rgb(55 65 81) !important;
    border-color: rgb(75 85 99) !important;
    color: rgb(229 231 235) !important;
}

.dark .fc-button:hover {
    background-color: rgb(75 85 99) !important;
    border-color: rgb(107 114 128) !important;
}

.dark .fc-button:focus {
    box-shadow: 0 0 0 2px rgb(59 130 246) !important;
}

.dark .fc-button-primary:not(:disabled).fc-button-active {
    background-color: rgb(37 99 235) !important;
    border-color: rgb(37 99 235) !important;
}

.dark .fc-daygrid-day {
    background-color: transparent;
}

.dark .fc-daygrid-day-number {
    color: rgb(229 231 235);
}

.dark .fc-day-today {
    background-color: rgb(31 41 55) !important;
}

.dark .fc-day-today .fc-daygrid-day-number {
    color: rgb(96 165 250);
    font-weight: 600;
}

.dark .fc-col-header-cell {
    background-color: rgb(31 41 55);
    border-color: rgb(55 65 81);
}

.dark .fc-col-header-cell a {
    color: rgb(156 163 175);
    font-weight: 600;
}

.dark .fc-scrollgrid-sync-table {
    border-color: rgb(55 65 81);
}

.dark .fc-event {
    border: none;
    color: white;
    font-weight: 500;
}

.dark .fc-event:hover {
    opacity: 0.9;
}

.dark .fc-more-link {
    color: rgb(96 165 250);
    font-weight: 500;
}

.dark .fc-more-link:hover {
    color: rgb(147 197 253);
}

.dark .fc-popover {
    background-color: rgb(31 41 55);
    border-color: rgb(55 65 81);
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
}

.dark .fc-popover-header {
    background-color: rgb(55 65 81);
    border-color: rgb(75 85 99);
    color: rgb(229 231 235);
}

.dark .fc-popover-close {
    color: rgb(156 163 175);
}

.dark .fc-popover-close:hover {
    color: rgb(229 231 235);
}

/* Custom event colors for dark mode */
.dark .fc-event.delivery-event {
    background-color: rgb(34 197 94) !important;
    border-color: rgb(22 163 74) !important;
}

.dark .fc-event.planting-event {
    background-color: rgb(59 130 246) !important;
    border-color: rgb(37 99 235) !important;
}

.dark .fc-event.overdue-event {
    background-color: rgb(239 68 68) !important;
    border-color: rgb(220 38 38) !important;
}

/* Enhanced primary button contrast in dark mode */
.dark .fi-btn-color-primary {
    background-color: rgb(59 130 246) !important;
    border-color: rgb(59 130 246) !important;
    color: white !important;
}

.dark .fi-btn-color-primary:hover {
    background-color: rgb(37 99 235) !important;
    border-color: rgb(37 99 235) !important;
}

.dark .fi-btn-color-primary:focus {
    box-shadow: 0 0 0 2px rgb(59 130 246 / 0.5) !important;
}

/* Enhanced primary button contrast for outlined style */
.dark .fi-btn-outline.fi-btn-color-primary {
    border-color: rgb(96 165 250) !important;
    color: rgb(96 165 250) !important;
    background-color: transparent !important;
}

.dark .fi-btn-outline.fi-btn-color-primary:hover {
    background-color: rgb(59 130 246) !important;
    border-color: rgb(59 130 246) !important;
    color: white !important;
}

/* Enhanced action button contrast in dark mode */
.dark .fi-ac-btn-action.fi-color-primary {
    background-color: rgb(59 130 246) !important;
    color: white !important;
}

.dark .fi-ac-btn-action.fi-color-primary:hover {
    background-color: rgb(37 99 235) !important;
}

/* ===========================================
   FLAT DESIGN THEME CUSTOMIZATIONS
   =========================================== */

/* Remove borders and shadows from sections with higher specificity */
.fi-section,
.fi-section-content-ctn,
section[class*="fi-section"] {
    border: none !important;
    box-shadow: none !important;
    background-color: white !important;
    border-radius: 0.5rem !important;
}

.dark .fi-section,
.dark .fi-section-content-ctn,
.dark section[class*="fi-section"] {
    background-color: rgb(17 24 39) !important;
}

/* Flatten form components with higher specificity */
.fi-fo-field-wrp,
[class*="fi-fo-field"] {
    border: none !important;
    box-shadow: none !important;
}

.fi-fo-field-wrp .fi-input-wrp,
[class*="fi-input-wrp"] {
    border: none !important;
    box-shadow: none !important;
}

/* Clean input styling - minimal borders with !important */
.fi-input,
input[class*="fi-input"],
textarea[class*="fi-input"] {
    border: none !important;
    border-bottom: 1px solid rgb(229 231 235) !important;
    border-radius: 0 !important;
    background-color: transparent !important;
    box-shadow: none !important;
}

.fi-input:focus,
input[class*="fi-input"]:focus,
textarea[class*="fi-input"]:focus {
    border-bottom: 2px solid rgb(245 158 11) !important;
    box-shadow: none !important;
    ring: 0 !important;
}

.dark .fi-input,
.dark input[class*="fi-input"],
.dark textarea[class*="fi-input"] {
    border-bottom: 1px solid rgb(75 85 99) !important;
}

.dark .fi-input:focus,
.dark input[class*="fi-input"]:focus,
.dark textarea[class*="fi-input"]:focus {
    border-bottom: 2px solid rgb(251 191 36) !important;
}

/* Flatten select components with higher specificity */
.fi-select-input,
select[class*="fi-select"] {
    border: none !important;
    border-bottom: 1px solid rgb(229 231 235) !important;
    border-radius: 0 !important;
    background-color: transparent !important;
    box-shadow: none !important;
}

.dark .fi-select-input,
.dark select[class*="fi-select"] {
    border-bottom: 1px solid rgb(75 85 99) !important;
}

/* Remove table borders and clean styling with higher specificity */
.fi-ta-table,
table[class*="fi-ta-table"],
.fi-table {
    border: none !important;
    box-shadow: none !important;
}

.fi-ta-table th,
table[class*="fi-ta-table"] th,
.fi-table th {
    border: none !important;
    border-bottom: 1px solid rgb(243 244 246) !important;
    background-color: transparent !important;
    box-shadow: none !important;
}

.dark .fi-ta-table th,
.dark table[class*="fi-ta-table"] th,
.dark .fi-table th {
    border-bottom: 1px solid rgb(31 41 55) !important;
}

.fi-ta-table td,
table[class*="fi-ta-table"] td,
.fi-table td {
    border: none !important;
    border-bottom: 1px solid rgb(249 250 251) !important;
}

.dark .fi-ta-table td,
.dark table[class*="fi-ta-table"] td,
.dark .fi-table td {
    border-bottom: 1px solid rgb(31 41 55) !important;
}

/* Clean table header with higher specificity */
.fi-ta-header,
[class*="fi-ta-header"] {
    border: none !important;
    box-shadow: none !important;
    background-color: transparent !important;
}

/* Flatten buttons */
.fi-btn {
    @apply border-0 shadow-none rounded-md;
}

.fi-btn-primary {
    @apply bg-amber-500 hover:bg-amber-600;
}

.dark .fi-btn-primary {
    @apply bg-amber-600 hover:bg-amber-700;
}

/* Clean card styling */
.fi-card {
    @apply border-0 shadow-none bg-white rounded-lg;
}

.dark .fi-card {
    @apply bg-gray-900;
}

/* Remove sidebar borders */
.fi-sidebar {
    @apply border-0 shadow-none;
}

/* Clean navigation items */
.fi-sidebar-nav-item {
    @apply border-0 rounded-md;
}

/* Flatten modal dialogs */
.fi-modal {
    @apply border-0 shadow-xl;
}

/* Clean form field groups */
.fi-fo-field-group {
    @apply border-0 shadow-none;
}

/* Remove borders from stats cards */
.fi-stats-card {
    @apply border-0 shadow-none;
}

/* Clean pagination */
.fi-pagination {
    @apply border-0 shadow-none;
}

.fi-pagination-item {
    @apply border-0;
}

/* Flatten dropdown menus */
.fi-dropdown-panel {
    @apply border-0 shadow-lg;
}

/* Clean notification styling */
.fi-notification {
    @apply border-0 shadow-lg;
}

/* Remove borders from tabs */
.fi-tabs {
    @apply border-0;
}

.fi-tabs-item {
    @apply border-0 border-b-2 border-transparent rounded-none;
}

.fi-tabs-item.fi-active {
    @apply border-amber-500;
}

.dark .fi-tabs-item.fi-active {
    @apply border-amber-400;
}

/* Clean badge styling */
.fi-badge {
    @apply border-0 shadow-none;
}

/* Flatten info lists */
.fi-in-component-ctn {
    @apply border-0 shadow-none;
}

/* Additional flat design refinements */

/* Remove widget borders and shadows */
.fi-widget {
    @apply border-0 shadow-none;
}

/* Clean up form sections */
.fi-fo-section {
    @apply border-0 shadow-none;
}

/* Flatten resource header */
.fi-resource-header {
    @apply border-0 shadow-none;
}

/* Clean breadcrumbs */
.fi-breadcrumbs {
    @apply border-0 shadow-none;
}

/* Minimal page header */
.fi-page-header {
    @apply border-0 shadow-none;
}

/* Clean up action groups */
.fi-ac-group {
    @apply border-0 shadow-none;
}

/* Remove borders from fieldsets */
.fi-fieldset {
    @apply border-0 shadow-none;
}

/* Clean repeater items */
.fi-fo-repeater-item {
    @apply border-0 shadow-none rounded-lg;
}

/* Flatten toggle switches to match theme */
.fi-toggle {
    @apply border-0 shadow-none;
}

/* Clean file upload areas */
.fi-fo-file-upload {
    @apply border-0 shadow-none;
}

/* Minimal search input */
.fi-global-search-input {
    @apply border-0 border-b border-gray-200 rounded-none;
}

.dark .fi-global-search-input {
    @apply border-gray-700;
}

/* Clean tenant switcher if present */
.fi-tenant-menu {
    @apply border-0 shadow-none;
}

/* Flat design for date picker */
.fi-fo-date-time-picker {
    @apply border-0 shadow-none;
}

/* Clean up resource pages */
.fi-resource-page {
    @apply border-0 shadow-none;
}

/* ===========================================
   AGGRESSIVE FLAT DESIGN OVERRIDES
   =========================================== */

/* Global border and shadow removal */
[class*="fi-"] {
    box-shadow: none !important;
}

/* Specifically target common Filament elements */
.fi-main,
.fi-main > *,
.fi-page,
.fi-page > *,
[class*="fi-resource"],
[class*="fi-panel"],
[class*="fi-card"],
[class*="fi-section"] {
    border: none !important;
    box-shadow: none !important;
}

/* Force flat buttons globally */
button[class*="fi-btn"],
.fi-btn,
a[class*="fi-btn"] {
    border: none !important;
    box-shadow: none !important;
    border-radius: 0.375rem !important;
}

/* Force flat form elements */
input[class*="fi-"],
textarea[class*="fi-"],
select[class*="fi-"] {
    border: none !important;
    border-bottom: 1px solid #e5e7eb !important;
    border-radius: 0 !important;
    box-shadow: none !important;
}

.dark input[class*="fi-"],
.dark textarea[class*="fi-"],
.dark select[class*="fi-"] {
    border-bottom: 1px solid #4b5563 !important;
}

/* Remove all Filament borders globally */
[class*="border"] {
    border: none !important;
}

/* Add back essential borders only */
table th {
    border-bottom: 1px solid #f3f4f6 !important;
}

table td {
    border-bottom: 1px solid #f9fafb !important;
}

.dark table th {
    border-bottom: 1px solid #1f2937 !important;
}

.dark table td {
    border-bottom: 1px solid #1f2937 !important;
}

/* ===========================================
   DROPDOWN FIXES FOR PRODUCT MIX
   =========================================== */

/* Fix dropdown background in dark mode */
[data-popover-reference] + div[data-popover] {
    z-index: 50 !important;
}

/* Select dropdown menu styling fixes */
.fi-select-list,
div[data-popover][role="listbox"] {
    background-color: white !important;
    border: 1px solid rgb(229 231 235) !important;
    border-radius: 0.375rem !important;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1) !important;
    z-index: 50 !important;
    max-height: 200px !important;
    overflow-y: auto !important;
}

.dark .fi-select-list,
.dark div[data-popover][role="listbox"] {
    background-color: rgb(31 41 55) !important;
    border: 1px solid rgb(75 85 99) !important;
    color: white !important;
}

/* Select dropdown options */
.fi-select-list-item,
div[data-popover][role="listbox"] > div[role="option"] {
    padding: 0.5rem 0.75rem !important;
    cursor: pointer !important;
    color: rgb(17 24 39) !important;
}

.dark .fi-select-list-item,
.dark div[data-popover][role="listbox"] > div[role="option"] {
    color: rgb(243 244 246) !important;
}

.fi-select-list-item:hover,
div[data-popover][role="listbox"] > div[role="option"]:hover {
    background-color: rgb(243 244 246) !important;
}

.dark .fi-select-list-item:hover,
.dark div[data-popover][role="listbox"] > div[role="option"]:hover {
    background-color: rgb(55 65 81) !important;
}

/* Fix dropdown positioning in tables */
.compact-repeater-container {
    position: relative !important;
    overflow: visible !important;
}

.compact-repeater-container table {
    overflow: visible !important;
}

.compact-repeater-container table td {
    overflow: visible !important;
    position: relative !important;
}

/* Specific fixes for select components in table cells */
.compact-repeater-container td .fi-select-input {
    position: relative !important;
}

.compact-repeater-container td div[data-headlessui-combobox] {
    position: relative !important;
}

/* Force dropdown to position relative to its container, not teleport */
.compact-repeater-container [data-headlessui-combobox-options] {
    position: absolute !important;
    z-index: 50 !important;
    top: 100% !important;
    left: 0 !important;
    right: 0 !important;
}

/* Override the compact repeater overflow settings for dropdowns */
.compact-repeater-container {
    overflow: visible !important;
}

.compact-repeater-container .overflow-x-auto {
    overflow-x: auto !important;
    overflow-y: visible !important;
}

/* Ensure dropdown portal renders properly */
.fi-select-input + div[data-headlessui-portal] {
    z-index: 999 !important;
}

/* Additional dropdown positioning fixes */
[data-headlessui-combobox-options] {
    z-index: 999 !important;
    position: fixed !important;
}

div[role="listbox"][data-headlessui-combobox-options] {
    z-index: 999 !important;
    position: fixed !important;
    background-color: white !important;
    border: 1px solid rgb(229 231 235) !important;
    border-radius: 0.375rem !important;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1) !important;
}

.dark div[role="listbox"][data-headlessui-combobox-options] {
    background-color: rgb(31 41 55) !important;
    border: 1px solid rgb(75 85 99) !important;
}

