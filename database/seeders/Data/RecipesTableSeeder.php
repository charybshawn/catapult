<?php

namespace Database\Seeders\Data;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class RecipesTableSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Clear existing data safely (disable foreign key checks temporarily)
        DB::table('recipes')->truncate();

        // Get soil consumable
        $soilConsumable = DB::table('consumables')
            ->join('consumable_types', 'consumables.consumable_type_id', '=', 'consumable_types.id')
            ->where('consumable_types.code', 'soil')
            ->where('consumables.name', 'Pro Mix HP')
            ->select('consumables.*')
            ->first();

        // Insert current recipes from database
        DB::table('recipes')->insert([
            [
                'id' => 2,
                'name' => 'Cabbage (Red Acre) [Lot# CAB1] [Plant 18.0g] [12DTM, 3G, 9L]',
                'master_seed_catalog_id' => 7,
                'cultivar_name' => 'Red Acre',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'CAB1')->value('id'),
                'lot_number' => 'CAB1',
                'seed_soak_hours' => 0,
                'germination_days' => 3,
                'blackout_days' => 0,
                'days_to_maturity' => 12,
                'light_days' => 9,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 18,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:08:56',
                'updated_at' => '2025-09-15 23:08:56',
                'common_name' => 'Cabbage',
            ],
            [
                'id' => 3,
                'name' => 'Kale (Red) [Lot# KR3Y-01] [Plant 18.0g] [11DTM, 3G, 8L]',
                'master_seed_catalog_id' => 12,
                'cultivar_name' => 'Red',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'KR3Y-01')->value('id'),
                'lot_number' => 'KR3Y-01',
                'seed_soak_hours' => 0,
                'germination_days' => 3,
                'blackout_days' => 0,
                'days_to_maturity' => 11,
                'light_days' => 8,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 18,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:09:25',
                'updated_at' => '2025-09-15 23:09:25',
                'common_name' => 'Kale',
            ],
            [
                'id' => 4,
                'name' => 'Broccoli (Broccoli) [Lot# RR4196LL] [Plant 2.0g] [11DTM, 3G, 8L]',
                'master_seed_catalog_id' => 6,
                'cultivar_name' => 'Broccoli',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'RR4196LL-2')->value('id'),
                'lot_number' => 'RR4196LL-2',
                'seed_soak_hours' => 0,
                'germination_days' => 3,
                'blackout_days' => 0,
                'days_to_maturity' => 11,
                'light_days' => 8,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 2,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:10:08',
                'updated_at' => '2025-09-15 23:10:08',
                'common_name' => 'Broccoli',
            ],
            [
                'id' => 5,
                'name' => 'Peas (Speckled) [Lot# PS4M] [Plant 300.0g] [11DTM, 3G, 8L]',
                'master_seed_catalog_id' => 15,
                'cultivar_name' => 'Speckled',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'PS4M')->value('id'),
                'lot_number' => 'PS4M',
                'seed_soak_hours' => 0,
                'germination_days' => 3,
                'blackout_days' => 0,
                'days_to_maturity' => 11,
                'light_days' => 8,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 300,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:10:50',
                'updated_at' => '2025-09-15 23:10:50',
                'common_name' => 'Peas',
            ],
            [
                'id' => 9,
                'name' => 'Sorel (Sorel) [Lot# SOR1] [Plant 2.0g] [28.0DTM, 5.0G, 23.0L]',
                'master_seed_catalog_id' => 20,
                'cultivar_name' => 'Sorel',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'SOR1')->value('id'),
                'lot_number' => 'SOR1',
                'seed_soak_hours' => 0,
                'germination_days' => 5,
                'blackout_days' => 0,
                'days_to_maturity' => 28,
                'light_days' => 23,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 2,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:15:06',
                'updated_at' => '2025-09-15 23:15:06',
                'common_name' => 'Sorel',
            ],
            [
                'id' => 10,
                'name' => 'Coriander (Coriander) [Lot# COR3] [Plant 35.0g] [16.0DTM, 6.0G, 10.0L]',
                'master_seed_catalog_id' => 9,
                'cultivar_name' => 'Coriander',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'COR3')->value('id'),
                'lot_number' => 'COR3',
                'seed_soak_hours' => 0,
                'germination_days' => 6,
                'blackout_days' => 0,
                'days_to_maturity' => 16,
                'light_days' => 10,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 35,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:21:04',
                'updated_at' => '2025-09-15 23:21:04',
                'common_name' => 'Coriander',
            ],
            [
                'id' => 11,
                'name' => 'Basil (Genovese) [Lot# BAS8Y] [Plant 5.0g] [23.0DTM, 4.0G, 19.0L]',
                'master_seed_catalog_id' => 3,
                'cultivar_name' => 'Genovese',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'BAS8Y')->value('id'),
                'lot_number' => 'BAS8Y',
                'seed_soak_hours' => 0,
                'germination_days' => 4,
                'blackout_days' => 0,
                'days_to_maturity' => 23,
                'light_days' => 19,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 5,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:21:28',
                'updated_at' => '2025-09-15 23:21:28',
                'common_name' => 'Basil',
            ],
            [
                'id' => 12,
                'name' => 'Mustard (Oriental) [Lot# MO12] [Plant 16.0g] [10.0DTM, 3.0G, 7.0L]',
                'master_seed_catalog_id' => 14,
                'cultivar_name' => 'Oriental',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'MO12')->value('id'),
                'lot_number' => 'MO12',
                'seed_soak_hours' => 0,
                'germination_days' => 3,
                'blackout_days' => 0,
                'days_to_maturity' => 10,
                'light_days' => 7,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 16,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:21:53',
                'updated_at' => '2025-09-15 23:21:53',
                'common_name' => 'Mustard',
            ],
            [
                'id' => 13,
                'name' => 'Arugula (Arugula) [Lot# AR2-01] [Plant 11.0g] [9.0DTM, 3.0G, 1.0B, 5.0L]',
                'master_seed_catalog_id' => 2,
                'cultivar_name' => 'Arugula',
                'soil_consumable_id' => $soilConsumable ? $soilConsumable->id : null,
                'seed_consumable_id' => DB::table('consumables')->where('lot_no', 'AR2-01')->value('id'),
                'lot_number' => 'AR2-01',
                'seed_soak_hours' => 0,
                'germination_days' => 3,
                'blackout_days' => 1,
                'days_to_maturity' => 9,
                'light_days' => 5,
                'expected_yield_grams' => 30,
                'buffer_percentage' => 10,
                'seed_density_grams_per_tray' => 11,
                'notes' => "# Planting Method\n* \n\n# Growth Cycle\n* \n\n# Other\n* ",
                'suspend_water_hours' => 24,
                'is_active' => 1,
                'created_at' => '2025-09-15 23:22:28',
                'updated_at' => '2025-09-15 23:22:28',
                'common_name' => 'Arugula',
            ],
        ]);
    }
}
